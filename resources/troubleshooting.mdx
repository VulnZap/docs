---
title: "Troubleshooting"
description: "Common issues and solutions for VulnZap"
icon: "wrench"
---

## Installation Issues

<AccordionGroup>
  <Accordion title="CLI Installation Fails">
    **Error:** `npm install -g vulnzap` fails
    
    **Common Causes:**
    - Permission issues
    - Node.js version incompatibility
    - Network/proxy issues
    
    **Solutions:**
    
    1. **Use sudo (macOS/Linux):**
    ```bash
    sudo npm install -g vulnzap
    ```
    
    2. **Fix npm permissions:**
    ```bash
    mkdir ~/.npm-global
    npm config set prefix '~/.npm-global'
    echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.profile
    source ~/.profile
    npm install -g vulnzap
    ```
    
    3. **Check Node.js version:**
    ```bash
    node --version  # Should be 14.0.0 or higher
    ```
    
    4. **Behind proxy:**
    ```bash
    npm config set proxy http://proxy.company.com:8080
    npm config set https-proxy http://proxy.company.com:8080
    npm install -g vulnzap
    ```
    
    5. **Use npx instead:**
    ```bash
    npx vulnzap scan
    ```
  </Accordion>
  
  <Accordion title="IDE Extension Not Loading">
    **Symptoms:** VulnZap doesn't appear in Cursor/Windsurf/Cline
    
    **Solutions:**
    
    1. **Verify MCP server is running:**
    ```bash
    vulnzap mcp status
    ```
    
    2. **Start MCP server:**
    ```bash
    vulnzap mcp --daemon
    ```
    
    3. **Check IDE configuration:**
    - Cursor: `.cursor/mcp.json` exists and valid
    - Windsurf: VulnZap enabled in Settings → Tools
    - Cline: MCP servers configured in settings
    
    4. **Restart IDE completely**
    
    5. **Check logs:**
    ```bash
    tail -f ~/.vulnzap/logs/mcp.log
    ```
    
    6. **Reinstall:**
    ```bash
    npm uninstall -g vulnzap
    npm install -g vulnzap
    vulnzap auth
    vulnzap mcp --daemon
    ```
  </Accordion>
</AccordionGroup>

## Authentication Issues

<AccordionGroup>
  <Accordion title="Authentication Failed">
    **Error:** `Authentication failed: Invalid API key`
    
    **Solutions:**
    
    1. **Regenerate API key:**
    - Go to [Dashboard → Settings → API Keys](https://vulnzap.com/dashboard/settings/api-keys)
    - Create new API key
    - Re-authenticate: `vulnzap auth --key new_key`
    
    2. **Check environment variable:**
    ```bash
    echo $VULNZAP_API_KEY
    # Should output your key
    ```
    
    3. **Verify key format:**
    - Should start with `vzap_`
    - Example: `vzap_abc123xyz789...`
    
    4. **Check key expiration:**
    - Keys may have expiration dates
    - Check dashboard for key status
  </Accordion>
  
  <Accordion title="Permission Denied Errors">
    **Error:** `Permission denied: Insufficient access`
    
    **Causes:**
    - Using personal key for team resources
    - Insufficient role permissions
    - Project-specific access restrictions
    
    **Solutions:**
    
    1. **Use team API key** for CI/CD:
    - Admin/Owner creates team key
    - Use team key instead of personal
    
    2. **Check your role:**
    ```
    Dashboard → Settings → Team → Your Role
    ```
    
    3. **Request access from admin:**
    - Contact team admin/owner
    - Request project access or role upgrade
  </Accordion>
</AccordionGroup>

## Scanning Issues

<AccordionGroup>
  <Accordion title="No Vulnerabilities Found (Expected Issues)">
    **Problem:** Scan completes but finds nothing, even on vulnerable code
    
    **Diagnostics:**
    
    1. **Check file type support:**
    ```bash
    vulnzap scan --verbose
    ```
    Look for "Skipping unsupported file" messages
    
    2. **Verify language support:**
    - JavaScript/TypeScript/Python fully supported
    - Other languages may be in development
    
    3. **Check exclusions:**
    ```bash
    cat .vulnzapignore
    cat .gitignore
    ```
    Files may be excluded
    
    4. **Try specific files:**
    ```bash
    vulnzap scan src/auth.js --verbose
    ```
    
    5. **Lower severity threshold:**
    ```bash
    vulnzap scan --min-severity low
    ```
  </Accordion>
  
  <Accordion title="Scan Hangs or Times Out">
    **Problem:** Scan starts but never completes
    
    **Solutions:**
    
    1. **Increase timeout:**
    ```bash
    vulnzap config set timeout 600  # 10 minutes
    ```
    
    2. **Scan incrementally:**
    ```bash
    vulnzap scan --incremental
    ```
    
    3. **Exclude large directories:**
    ```bash
    echo "node_modules/" >> .vulnzapignore
    echo "dist/" >> .vulnzapignore
    echo "build/" >> .vulnzapignore
    ```
    
    4. **Scan specific directories:**
    ```bash
    vulnzap scan src/  # Instead of entire repo
    ```
    
    5. **Check network:**
    ```bash
    ping api.vulnzap.com
    ```
    
    6. **Use offline mode (if available):**
    ```bash
    vulnzap config set offline true
    vulnzap db download
    ```
  </Accordion>
  
  <Accordion title="High False Positive Rate">
    **Problem:** Many findings seem incorrect
    
    **Solutions:**
    
    1. **Mark as false positive:**
    ```bash
    vulnzap fix --interactive
    # Select "Mark as False Positive"
    ```
    
    2. **Suppress specific patterns:**
    ```javascript
    // vulnzap-disable-next-line sql-injection
    const query = buildComplexQuery();
    ```
    
    3. **Configure in .vulnzap.yml:**
    ```yaml
    ignore:
      - type: sql_injection
        file: src/legacy/old-code.js
        reason: "Using safe query builder"
    ```
    
    4. **Provide feedback:**
    ```bash
    vulnzap feedback --finding finding_abc123 \
      --false-positive \
      --reason "Using parameterized ORM"
    ```
  </Accordion>
  
  <Accordion title="Scan Fails in CI/CD">
    **Error:** Scan works locally but fails in CI/CD
    
    **Common Issues:**
    
    1. **API key not set:**
    ```yaml
    # GitHub Actions
    env:
      VULNZAP_API_KEY: ${{ secrets.VULNZAP_API_KEY }}
    ```
    
    2. **Network restrictions:**
    - Allow outbound HTTPS to `api.vulnzap.com`
    - Check firewall/proxy settings
    
    3. **Insufficient disk space:**
    ```yaml
    - run: df -h  # Check available space
    ```
    
    4. **Rate limiting:**
    - CI may hit rate limits
    - Upgrade plan or reduce scan frequency
    
    5. **Different Node.js version:**
    ```yaml
    - uses: actions/setup-node@v3
      with:
        node-version: '18'
    ```
  </Accordion>
</AccordionGroup>

## Performance Issues

<AccordionGroup>
  <Accordion title="Slow Scans">
    **Problem:** Scans take too long
    
    **Optimizations:**
    
    1. **Use incremental scanning:**
    ```bash
    vulnzap scan --incremental
    ```
    
    2. **Enable caching:**
    ```bash
    vulnzap config set cache true
    ```
    
    3. **Increase parallelism:**
    ```bash
    vulnzap scan --threads 8
    ```
    
    4. **Exclude unnecessary files:**
    ```bash
    echo "*.test.js" >> .vulnzapignore
    echo "coverage/" >> .vulnzapignore
    ```
    
    5. **Use file size limits:**
    ```yaml .vulnzap.yml
    scan:
      max_file_size_kb: 500
    ```
    
    **Performance Benchmarks:**
    - Small repo (100 files): 5-10s
    - Medium repo (1,000 files): 20-40s
    - Large repo (10,000 files): 2-5 minutes
  </Accordion>
  
  <Accordion title="High Memory Usage">
    **Problem:** VulnZap using excessive RAM
    
    **Solutions:**
    
    1. **Reduce threads:**
    ```bash
    vulnzap scan --threads 2
    ```
    
    2. **Scan in batches:**
    ```bash
    vulnzap scan src/api/
    vulnzap scan src/frontend/
    ```
    
    3. **Exclude large files:**
    ```yaml
    scan:
      max_file_size_kb: 200
    ```
  </Accordion>
</AccordionGroup>

## Integration Issues

<AccordionGroup>
  <Accordion title="Webhooks Not Working">
    **Problem:** Webhook events not received
    
    **Debugging:**
    
    1. **Test webhook endpoint:**
    ```bash
    curl -X POST https://your-domain.com/webhooks/vulnzap \
      -H "Content-Type: application/json" \
      -d '{"test": true}'
    ```
    
    2. **Check webhook logs:**
    ```
    Dashboard → Settings → Webhooks → View Logs
    ```
    
    3. **Verify signature:**
    ```javascript
    const signature = req.headers['x-vulnzap-signature'];
    // Implement signature verification
    ```
    
    4. **Check firewall:**
    - Allow inbound from VulnZap IPs
    - Check logs for connection attempts
    
    5. **Re-create webhook:**
    - Delete and recreate webhook configuration
  </Accordion>
  
  <Accordion title="API Rate Limiting">
    **Error:** `429 Too Many Requests`
    
    **Solutions:**
    
    1. **Implement exponential backoff:**
    ```javascript
    async function retryWithBackoff(fn, maxRetries = 3) {
      for (let i = 0; i < maxRetries; i++) {
        try {
          return await fn();
        } catch (error) {
          if (error.status === 429) {
            const delay = Math.pow(2, i) * 1000;
            await sleep(delay);
            continue;
          }
          throw error;
        }
      }
    }
    ```
    
    2. **Check rate limit headers:**
    ```bash
    curl -i https://api.vulnzap.com/v1/scans \
      -H "Authorization: Bearer $VULNZAP_API_KEY"
    
    # Look for:
    # X-RateLimit-Limit: 60
    # X-RateLimit-Remaining: 0
    # X-RateLimit-Reset: 1234567890
    ```
    
    3. **Upgrade plan:**
    - Free: 10 req/min
    - Standard: 60 req/min
    - Scale: 300 req/min
  </Accordion>
</AccordionGroup>

## MCP Server Issues

<AccordionGroup>
  <Accordion title="MCP Server Won't Start">
    **Error:** `Failed to start MCP server`
    
    **Solutions:**
    
    1. **Check if port is in use:**
    ```bash
    lsof -i :3000
    ```
    
    2. **Kill existing process:**
    ```bash
    vulnzap mcp stop
    # Or manually:
    kill <PID>
    ```
    
    3. **Use different port:**
    ```bash
    vulnzap mcp --port 3001
    ```
    
    4. **Check permissions:**
    ```bash
    ls -la ~/.vulnzap/
    # Should be readable/writable by your user
    ```
    
    5. **View MCP logs:**
    ```bash
    tail -f ~/.vulnzap/logs/mcp.log
    ```
  </Accordion>
  
  <Accordion title="AI Not Using VulnZap Suggestions">
    **Problem:** AI generates insecure code without VulnZap intervention
    
    **Diagnostics:**
    
    1. **Verify MCP connection:**
    ```bash
    vulnzap mcp status
    ```
    
    2. **Check IDE configuration:**
    - Ensure MCP server is listed in IDE settings
    - Verify API key is set
    
    3. **Restart MCP server:**
    ```bash
    vulnzap mcp restart
    ```
    
    4. **Check MCP logs for errors:**
    ```bash
    tail -f ~/.vulnzap/logs/mcp.log | grep ERROR
    ```
    
    5. **Test manually:**
    ```bash
    vulnzap mcp test
    ```
  </Accordion>
</AccordionGroup>

## Common Error Messages

### `ENOTFOUND api.vulnzap.com`

**Cause:** DNS resolution failure

**Fix:**
```bash
# Check DNS
nslookup api.vulnzap.com

# Try different DNS
# macOS/Linux: Edit /etc/resolv.conf
# Windows: Network settings
```

### `Certificate verification failed`

**Cause:** SSL/TLS certificate issues

**Fix:**
```bash
# Update Node.js
nvm install --lts

# Update CA certificates
# Ubuntu/Debian:
sudo apt-get update
sudo apt-get install ca-certificates

# macOS:
brew update
brew upgrade
```

### `Out of memory`

**Cause:** Large repository or insufficient RAM

**Fix:**
```bash
# Increase Node.js memory
export NODE_OPTIONS="--max-old-space-size=4096"

# Or scan in smaller batches
vulnzap scan src/ --threads 2
```

## Getting Help

Still stuck? We're here to help:

<CardGroup cols={2}>
  <Card title="Email Support" icon="envelope" href="mailto:support@vulnzap.com">
    support@vulnzap.com
  </Card>
  
  <Card title="Community Forum" icon="comments" href="https://community.vulnzap.com">
    Ask the community
  </Card>
  
  <Card title="Documentation" icon="book" href="/">
    Search documentation
  </Card>
  
  <Card title="Status Page" icon="signal" href="https://status.vulnzap.com">
    Check system status
  </Card>
</CardGroup>

### When Contacting Support

Please include:

1. **VulnZap version:**
   ```bash
   vulnzap version
   ```

2. **System information:**
   ```bash
   vulnzap doctor
   ```

3. **Error message** (full text)

4. **Steps to reproduce**

5. **Expected vs actual behavior**

6. **Logs** (if applicable):
   ```bash
   cat ~/.vulnzap/logs/vulnzap.log
   ```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Quick Start"
    icon="rocket"
    href="/quickstart"
  >
    Start from scratch
  </Card>
  
  <Card
    title="CLI Reference"
    icon="terminal"
    href="/integration/cli"
  >
    Complete command reference
  </Card>
  
  <Card
    title="FAQ"
    icon="question"
    href="/resources/faq"
  >
    Frequently asked questions
  </Card>
  
  <Card
    title="Contact Support"
    icon="life-ring"
    href="mailto:support@vulnzap.com"
  >
    Get personalized help
  </Card>
</CardGroup>

