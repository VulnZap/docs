---
title: "IDE Integration"
description: "Set up real-time security scanning in Cursor, Windsurf, Cline, and VS Code via MCP protocol"
icon: "code"
---

## Overview

VulnZap integrates with modern IDEs through the Model Context Protocol (MCP), providing real-time vulnerability detection as you code and when AI assistants generate code.

## Supported IDEs

<CardGroup cols={2}>
  <Card title="Cursor" icon="c">
    Full MCP support with agent-aware scanning
  </Card>
  <Card title="Windsurf" icon="w">
    Real-time inline detection and AI guardrails
  </Card>
  <Card title="Cline" icon="terminal">
    Agentic workflow protection
  </Card>
  <Card title="VS Code" icon="code">
    Via MCP extension (beta)
  </Card>
</CardGroup>

## Model Context Protocol (MCP)

VulnZap provides 4 MCP tools that enable AI agents to perform vulnerability scanning during development. These tools are designed for asynchronous, non-blocking workflows—agents call scans and continue coding while results are processed.

### MCP Tools Overview

<CardGroup cols={2}>
  <Card title="scan_diff" icon="bolt">
    Fast incremental scan on git diff (fire-and-forget)
  </Card>
  <Card title="status" icon="circle-check">
    Poll for scan results and vulnerability status
  </Card>
  <Card title="full_scan" icon="magnifying-glass">
    Deep baseline scan of entire repository
  </Card>
  <Card title="report" icon="file-lines">
    Generate human-readable markdown reports
  </Card>
</CardGroup>

## MCP Tools Reference

### 1. `vulnzap.scan_diff`

Fast, incremental, non-blocking scan on the current git diff. Fire-and-forget: call this and continue coding, then poll results via `vulnzap.status`.

**Input:**

```json
{
  "repo": ".",           // Path to repo (default: ".")
  "since": "HEAD",       // Commit/ref to diff against (default: "HEAD")
  "paths": ["optional/globs/**"]  // Optional: limit scope with glob patterns
}
```

**Response:**

```json
{
  "scan_id": "vz_91f...",
  "queued": true,
  "eta_ms": 8000,
  "next_hint": "call vulnzap.status with scan_id",
  "summary": {
    "files_considered": 7,
    "mode": "diff"
  }
}
```

**Usage:** Call at natural checkpoints (pre-commit or after sizable changes). The agent continues coding while the scan runs in the background.

### 2. `vulnzap.status`

Get the latest results for a scan or for the latest scan. This is how the agent finds out whether the last diff or full scan had vulnerabilities.

**Input:**

```json
{ "scan_id": "vz_91f..." }  // Explicit scan_id
// or
{ "latest": true }           // Get latest scan for this repo
```

**Response (ready):**

```json
{
  "ready": true,
  "open_issues": [
    {
      "id": "VZ-123",
      "severity": "high",
      "path": "api/login.ts",
      "range": {
        "start": { "line": 41, "col": 7 }
      }
    }
  ],
  "counts": {
    "high": 1,
    "medium": 1,
    "low": 0
  },
  "next_hint": "fix issues, then call scan_diff again before next commit"
}
```

**Response (still running):**

```json
{
  "ready": false,
  "poll_after_ms": 5000
}
```

**Usage:** Poll this tool to check scan progress. If `ready: false`, wait and poll again with backoff (5-30 seconds).

### 3. `vulnzap.full_scan`

Baseline scan for the entire repository, used before serious pushes or deploys. Slower than diff scans, use sparingly.

**Input:**

```json
{
  "repo": ".",           // Repository path (default: ".")
  "mode": "baseline"     // Scan mode (default: "baseline")
}
```

**Response:**

```json
{
  "scan_id": "vz_full_7c2",
  "queued": true,
  "eta_ms": 180000
}
```

**Usage:** Call once before serious push or deploy. Continue coding while it runs, then poll `vulnzap.status` until complete.

### 4. `vulnzap.report`

Human-readable snapshot of the last scan results. Intended for attaching to PRs or agent logs.

**Input:**

```json
{
  "scan_id": "vz_91f...",
  "format": "md"  // Report format (default: "md")
}
```

**Response:**

```json
{
  "markdown": "## Vulnzap Findings\n- [HIGH] api/login.ts:L41 ..."
}
```

**Usage:** After any fix cycle, call this to generate a markdown summary for PR descriptions, agent logs, or comment threads.

## Recommended Agent Workflow

<Steps>
  <Step title="Startup Check">
    Call `vulnzap.status` with `{"latest": true}` to check for existing issues
  </Step>
  
  <Step title="While Coding">
    At checkpoints, call `vulnzap.scan_diff` and continue coding
  </Step>
  
  <Step title="Poll Status">
    Periodically call `vulnzap.status` with the scan_id
  </Step>
  
  <Step title="Fix Issues">
    If issues found, fix them and call `vulnzap.scan_diff` again
  </Step>
  
  <Step title="Before Push">
    Call `vulnzap.full_scan` once, poll until complete
  </Step>
  
  <Step title="Generate Report">
    Optionally call `vulnzap.report` to attach to PRs
  </Step>
</Steps>

### Key Behaviors

<AccordionGroup>
  <Accordion title="vulnzap.scan_diff">
    **Fast, non-blocking, stackable.** Use frequently on diffs.
    
    - Scans only changed files since specified commit
    - Returns immediately with `scan_id`
    - Agent continues coding while scan runs
    - Typical completion: 5-10 seconds
  </Accordion>
  
  <Accordion title="vulnzap.status">
    **The only way the agent learns about problems.** Poll it.
    
    - Check with explicit `scan_id` or `latest: true`
    - Returns `ready: false` while processing
    - Returns full vulnerability list when complete
    - Implements exponential backoff (5-30 seconds)
  </Accordion>
  
  <Accordion title="vulnzap.full_scan">
    **Reserved for pre-push or pre-deploy workflows** (slower).
    
    - Analyzes entire repository codebase
    - Takes 5-7 minutes average for full scan
    - Use sparingly—only before major commits
    - Poll `vulnzap.status` to check completion
  </Accordion>
  
  <Accordion title="vulnzap.report">
    **For humans.** Every other tool returns JSON for the agent.
    
    - Generates markdown-formatted report
    - Perfect for PR descriptions or comments
    - Includes severity, file paths, and line numbers
    - Human-readable, not for agent parsing
  </Accordion>
</AccordionGroup>

### Example Agent Session

```
User: "Add user authentication endpoint"

Agent: [creates auth.ts with login function]
Agent: Calling vulnzap.scan_diff...
Response: { scan_id: "vz_91f", queued: true, eta_ms: 8000 }

Agent: [continues working on other files]
Agent: [5 seconds later] Calling vulnzap.status...
Response: { ready: false, poll_after_ms: 5000 }

Agent: [continues coding]
Agent: [5 seconds later] Calling vulnzap.status...
Response: {
  ready: true,
  open_issues: [{
    severity: "high",
    path: "auth.ts",
    range: { start: { line: 23 } }
  }],
  counts: { high: 1 }
}

Agent: Found SQL injection on line 23, fixing...
Agent: [applies fix]
Agent: Calling vulnzap.scan_diff again...
Response: { scan_id: "vz_92a", queued: true }

Agent: [polls vulnzap.status]
Response: { ready: true, open_issues: [], counts: {} }

Agent: ✅ All security issues resolved
Agent: Calling vulnzap.report for PR...
Response: { markdown: "## Security Scan\n✅ No vulnerabilities found" }
```

## Installation

### Cursor

<Steps>
  <Step title="Install VulnZap CLI">
    ```bash
    npm i -g vulnzap
    ```
  </Step>
  
  <Step title="Get API Key">
    Get your API key from [vulnzap.com/dashboard](https://vulnzap.com/dashboard) → Settings → API Keys
  </Step>
  
  <Step title="Create MCP Configuration">
    Create `.cursor/mcp.json` in your project root:
    
    ```json
    {
      "mcpServers": {
        "VulnZap": {
          "command": "vulnzap",
          "args": ["secure", "--ide", "cursor"],
          "env": {
            "VULNZAP_API_KEY": "your_api_key_here"
          }
        }
      }
    }
    ```
  </Step>
  
  <Step title="Restart Cursor">
    Restart Cursor to activate VulnZap integration
  </Step>
</Steps>

### Windsurf

<Steps>
  <Step title="Install VulnZap CLI">
    ```bash
    npm i -g vulnzap
    ```
  </Step>
  
  <Step title="Get API Key">
    Get your API key from [vulnzap.com/dashboard](https://vulnzap.com/dashboard) → Settings → API Keys
  </Step>
  
  <Step title="Create MCP Configuration">
    Create `.codeium/windsurf/mcp_config.json` in your project root:
    
    ```json
    {
      "mcpServers": {
        "VulnZap": {
          "command": "vulnzap",
          "args": ["secure", "--ide", "windsurf"],
          "env": {
            "VULNZAP_API_KEY": "your_api_key_here"
          }
        }
      }
    }
    ```
  </Step>
  
  <Step title="Restart Windsurf">
    Restart Windsurf to activate VulnZap integration
  </Step>
</Steps>

### Cline

<Steps>
  <Step title="Install VulnZap CLI">
    ```bash
    npm i -g vulnzap
    ```
  </Step>
  
  <Step title="Get API Key">
    Get your API key from [vulnzap.com/dashboard](https://vulnzap.com/dashboard) → Settings → API Keys
  </Step>
  
  <Step title="Configure in Cline">
    Set your `VULNZAP_API_KEY` environment variable and configure Cline to use VulnZap
  </Step>
</Steps>

### VS Code (Beta)

<Steps>
  <Step title="Install MCP Extension">
    Install the MCP Protocol extension from VS Code Marketplace
  </Step>
  
  <Step title="Install VulnZap">
    ```bash
    npm i -g vulnzap
    vulnzap auth
    ```
  </Step>
  
  <Step title="Configure MCP Servers">
    Open VS Code settings.json and add:
    
    ```json
    {
      "mcp.servers": {
        "vulnzap": {
          "command": "vulnzap",
          "args": ["mcp"],
          "enabled": true
        }
      }
    }
    ```
  </Step>
  
  <Step title="Reload VS Code">
    Reload window (Cmd/Ctrl + Shift + P → "Reload Window")
  </Step>
</Steps>

<Warning>
  VS Code integration is currently in beta. Full support requires the MCP extension.
</Warning>

## Next Steps

<CardGroup cols={2}>
  <Card
    title="CLI Guide"
    icon="terminal"
    href="/integration/cli"
  >
    Master command-line scanning
  </Card>
  
  <Card
    title="CI/CD Integration"
    icon="code-branch"
    href="/integration/ci-cd"
  >
    Automate security in pipelines
  </Card>
  
  <Card
    title="Dashboard Guide"
    icon="chart-line"
    href="/features/dashboard"
  >
    Manage findings centrally
  </Card>
</CardGroup>

